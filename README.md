TODO:
- Flush pipeline on stall
- Generalise ALU
